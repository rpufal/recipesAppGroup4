{"ast":null,"code":"var _jsxFileName = \"/home/administrador/Projects/sd-09-project-recipes-app/src/context/AppContext.js\";\nimport React, { createContext, useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { getFoods, getDrinks, getFoodCategories, getDrinkCategories } from '../services';\nexport const AppContext = createContext();\nconst NUMBER_OF_ITEMS = 12;\nconst NUMBER_OF_CATEGORIES = 5;\n\nconst AppProvider = ({\n  children\n}) => {\n  const [foodApiResults, setFoodApiResults] = useState([]);\n  const [drinksApiResults, setDrinksApiResults] = useState([]);\n  const [foodsArray, setFoodsArray] = useState([]);\n  const [drinksArray, setDrinksArray] = useState([]);\n  const [foodCategories, setFoodCategories] = useState([]);\n  const [drinkCategories, setDrinkCategories] = useState([]);\n  const [favoriteRecipes, setFavoriteRecipes] = useState(JSON.parse(localStorage.getItem('favoriteRecipes')) || []);\n  const [favorites, setFavorites] = useState(JSON.parse(localStorage.getItem('favoritesId')) || {});\n  const [doneRecipes, setDoneRecipes] = useState(JSON.parse(localStorage.getItem('doneRecipes')) || []);\n  const [inProgressDrinks, setInProgressDrinks] = useState(JSON.parse(localStorage.getItem('doneDrinks')) || {\n    drinks: {}\n  });\n  const [inProgressMeals, setInProgressMeals] = useState(JSON.parse(localStorage.getItem('doneMeals')) || {\n    meals: {}\n  });\n\n  const inProgressDrink = recipe => {\n    setInProgressDrinks([...inProgressDrinks, recipe]);\n  };\n\n  const inProgressRecipe = recipe => {\n    setInProgressMeals([...inProgressMeals, recipe]);\n  };\n\n  const setLocalStorageInProgress = (type, id, ingredientsArray) => {\n    if (type === 'Meal') {\n      setInProgressRecipes({ ...inProgressRecipes,\n        meals: {\n          [id]: ingredientsArray\n        }\n      });\n    }\n\n    if (type === 'Drink') {\n      setInProgressRecipes({ ...inProgressRecipes,\n        cocktails: {\n          [id]: ingredientsArray\n        }\n      });\n    }\n  };\n\n  const fetchFoods = async () => {\n    const response = await getFoods();\n    setFoodsArray(response.slice(0, NUMBER_OF_ITEMS));\n  };\n\n  const fetchDrinks = async () => {\n    const response = await getDrinks();\n    setDrinksArray(response.slice(0, NUMBER_OF_ITEMS));\n  };\n\n  const fetchFoodCategories = async () => {\n    const response = await getFoodCategories();\n    setFoodCategories(response.slice(0, NUMBER_OF_CATEGORIES));\n  };\n\n  const fetchDrinkCategories = async () => {\n    const response = await getDrinkCategories();\n    setDrinkCategories(response.slice(0, NUMBER_OF_CATEGORIES));\n  };\n\n  const addToFavorites = id => {\n    setFavorites({ ...favorites,\n      [id]: true\n    });\n  };\n\n  const removeFromTheFavorites = id => {\n    setFavorites({ ...favorites,\n      [id]: false\n    });\n  };\n\n  const favoriteRecipe = meal => {\n    setFavoriteRecipes([...favoriteRecipes, meal]);\n  };\n\n  const removeFromFavorite = id => {\n    setFavoriteRecipes(favoriteRecipes.filter(recipe => recipe.id !== id));\n  };\n\n  const finishRecipe = recipe => {\n    setDoneRecipes([...doneRecipes, recipe]);\n  };\n\n  useEffect(() => {\n    localStorage.setItem('doneRecipes', JSON.stringify(doneRecipes));\n  }, [doneRecipes]);\n  useEffect(() => {\n    localStorage.setItem('favoritesId', JSON.stringify(favorites));\n  }, [favorites]);\n  useEffect(() => {\n    localStorage.setItem('favoriteRecipes', JSON.stringify(favoriteRecipes));\n  }, [favoriteRecipes]);\n  useEffect(() => {\n    localStorage.setItem('inProgressRecipes', JSON.stringify(inProgressRecipes));\n  }, [inProgressRecipes]);\n  useEffect(() => {\n    fetchFoods();\n    fetchDrinks();\n    fetchFoodCategories();\n    fetchDrinkCategories();\n  }, []);\n  const foods = foodApiResults.length && foodApiResults !== 'null' ? foodApiResults : foodsArray;\n  const drinks = drinksApiResults.length && drinksApiResults !== 'null' ? drinksApiResults : drinksArray;\n  const context = {\n    foods,\n    drinks,\n    foodCategories,\n    drinkCategories,\n    favoriteRecipes,\n    favorites,\n    setFoodApiResults,\n    setDrinksApiResults,\n    favoriteRecipe,\n    removeFromFavorite,\n    addToFavorites,\n    removeFromTheFavorites,\n    finishRecipe,\n    setLocalStorageInProgress\n  };\n  return /*#__PURE__*/React.createElement(AppContext.Provider, {\n    value: context,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 5\n    }\n  }, children);\n};\n\nAppProvider.propTypes = {\n  children: PropTypes.node.isRequired\n};\nexport default AppProvider;","map":{"version":3,"sources":["/home/administrador/Projects/sd-09-project-recipes-app/src/context/AppContext.js"],"names":["React","createContext","useState","useEffect","PropTypes","getFoods","getDrinks","getFoodCategories","getDrinkCategories","AppContext","NUMBER_OF_ITEMS","NUMBER_OF_CATEGORIES","AppProvider","children","foodApiResults","setFoodApiResults","drinksApiResults","setDrinksApiResults","foodsArray","setFoodsArray","drinksArray","setDrinksArray","foodCategories","setFoodCategories","drinkCategories","setDrinkCategories","favoriteRecipes","setFavoriteRecipes","JSON","parse","localStorage","getItem","favorites","setFavorites","doneRecipes","setDoneRecipes","inProgressDrinks","setInProgressDrinks","drinks","inProgressMeals","setInProgressMeals","meals","inProgressDrink","recipe","inProgressRecipe","setLocalStorageInProgress","type","id","ingredientsArray","setInProgressRecipes","inProgressRecipes","cocktails","fetchFoods","response","slice","fetchDrinks","fetchFoodCategories","fetchDrinkCategories","addToFavorites","removeFromTheFavorites","favoriteRecipe","meal","removeFromFavorite","filter","finishRecipe","setItem","stringify","foods","length","context","propTypes","node","isRequired"],"mappings":"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","sourcesContent":["import React, { createContext, useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { getFoods, getDrinks, getFoodCategories, getDrinkCategories } from '../services';\n\nexport const AppContext = createContext();\n\nconst NUMBER_OF_ITEMS = 12;\nconst NUMBER_OF_CATEGORIES = 5;\n\nconst AppProvider = ({ children }) => {\n  const [foodApiResults, setFoodApiResults] = useState([]);\n  const [drinksApiResults, setDrinksApiResults] = useState([]);\n  const [foodsArray, setFoodsArray] = useState([]);\n  const [drinksArray, setDrinksArray] = useState([]);\n  const [foodCategories, setFoodCategories] = useState([]);\n  const [drinkCategories, setDrinkCategories] = useState([]);\n  const [favoriteRecipes, setFavoriteRecipes] = useState(\n    JSON.parse(localStorage.getItem('favoriteRecipes')) || [],\n  );\n  const [favorites, setFavorites] = useState(\n    JSON.parse(localStorage.getItem('favoritesId')) || {},\n  );\n  const [doneRecipes, setDoneRecipes] = useState(\n    JSON.parse(localStorage.getItem('doneRecipes')) || [],\n  );\n\n  const [inProgressDrinks, setInProgressDrinks] = useState(\n    JSON.parse(localStorage.getItem('doneDrinks')) || { drinks: {} },\n  );\n  const [inProgressMeals, setInProgressMeals] = useState(\n    JSON.parse(localStorage.getItem('doneMeals')) || { meals: {} },\n  );\n\n  const inProgressDrink = (recipe) => {\n    setInProgressDrinks([\n      ...inProgressDrinks,\n      recipe,\n    ]);\n  };\n  const inProgressRecipe = (recipe) => {\n    setInProgressMeals([\n      ...inProgressMeals,\n      recipe,\n    ]);\n  };\n\n  const setLocalStorageInProgress = (type, id, ingredientsArray) => {\n    if (type === 'Meal') {\n      setInProgressRecipes({ ...inProgressRecipes, meals: { [id]: ingredientsArray } });\n    }\n    if (type === 'Drink') {\n      setInProgressRecipes({ ...inProgressRecipes,\n        cocktails: { [id]: ingredientsArray } });\n    }\n  };\n\n  const fetchFoods = async () => {\n    const response = await getFoods();\n    setFoodsArray(response.slice(0, NUMBER_OF_ITEMS));\n  };\n\n  const fetchDrinks = async () => {\n    const response = await getDrinks();\n    setDrinksArray(response.slice(0, NUMBER_OF_ITEMS));\n  };\n\n  const fetchFoodCategories = async () => {\n    const response = await getFoodCategories();\n    setFoodCategories(response.slice(0, NUMBER_OF_CATEGORIES));\n  };\n\n  const fetchDrinkCategories = async () => {\n    const response = await getDrinkCategories();\n    setDrinkCategories(response.slice(0, NUMBER_OF_CATEGORIES));\n  };\n\n  const addToFavorites = (id) => {\n    setFavorites({\n      ...favorites,\n      [id]: true,\n    });\n  };\n\n  const removeFromTheFavorites = (id) => {\n    setFavorites({\n      ...favorites,\n      [id]: false,\n    });\n  };\n\n  const favoriteRecipe = (meal) => {\n    setFavoriteRecipes([\n      ...favoriteRecipes,\n      meal,\n    ]);\n  };\n\n  const removeFromFavorite = (id) => {\n    setFavoriteRecipes(favoriteRecipes.filter((recipe) => recipe.id !== id));\n  };\n\n  const finishRecipe = (recipe) => {\n    setDoneRecipes([...doneRecipes, recipe]);\n  };\n\n  useEffect(() => {\n    localStorage.setItem('doneRecipes', JSON.stringify(doneRecipes));\n  }, [doneRecipes]);\n\n  useEffect(() => {\n    localStorage.setItem('favoritesId', JSON.stringify(favorites));\n  }, [favorites]);\n\n  useEffect(() => {\n    localStorage.setItem('favoriteRecipes', JSON.stringify(favoriteRecipes));\n  }, [favoriteRecipes]);\n\n  useEffect(() => {\n    localStorage.setItem('inProgressRecipes', JSON.stringify(inProgressRecipes));\n  }, [inProgressRecipes]);\n\n  useEffect(() => {\n    fetchFoods();\n    fetchDrinks();\n    fetchFoodCategories();\n    fetchDrinkCategories();\n  }, []);\n\n  const foods = foodApiResults.length && foodApiResults !== 'null'\n    ? foodApiResults : foodsArray;\n  const drinks = drinksApiResults.length && drinksApiResults !== 'null'\n    ? drinksApiResults : drinksArray;\n\n  const context = {\n    foods,\n    drinks,\n    foodCategories,\n    drinkCategories,\n    favoriteRecipes,\n    favorites,\n    setFoodApiResults,\n    setDrinksApiResults,\n    favoriteRecipe,\n    removeFromFavorite,\n    addToFavorites,\n    removeFromTheFavorites,\n    finishRecipe,\n    setLocalStorageInProgress,\n  };\n  return (\n    <AppContext.Provider value={ context }>\n      { children }\n    </AppContext.Provider>\n  );\n};\n\nAppProvider.propTypes = {\n  children: PropTypes.node.isRequired,\n};\n\nexport default AppProvider;\n"]},"metadata":{},"sourceType":"module"}